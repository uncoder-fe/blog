---
title: "图解http读书笔记"
date: "2016-10-05T15:23:03+08:00"
author: "uncoder"
tags: ["http"]
categories: ["其他"]
slug: ""
---

记录一点点笔记
<!--more-->

# 第一章
### TCP/IP是互联网各种协议的总称(TCP,IP,UDP,DNS,HTTP,FTP,SNMP等等)
### TCP/IP协议族按层可以分为4层
- 应用层(FTP,DNS,HTTP)
- 数据传输层(TCP传输控制协议,UDP用户数据报协议)
- 网络层(IP网际协议,数据包)
- 数据链路层(MAC，物理硬件相关)
  ### 数据传输经过每层都会打上该层所属的首部信息，接受时候反过来
  ### IP是一种协议（作用是把数据包发给对方，根据ip地址和mac地址）
  ### ARP协议可以解析ip地址为mac地址
  ### TCP把大数据包分包，通过三次握手等安全确保可靠传送
  ### TCP三次握手
- 发送端发送带syn标志数据包
- 接收端返回带syn/ack标志的数据包
- 发送端发送带ack标志的数据包 ，握手结束
- 传输中断，重来
  ### DNS协议，把域名解析为IP地址
  ### 协议之间的职责（访问一个网站）
- DNS协议找到对方的IP地址
- HTTP生成请求对方文件的报文
- TCP把请求报文的数据分包
- IP一边中转一边发送（各种路由器中转）
- TCP接收报文段，重组报文
- HTTP对请求进行处理
- 重复返回
  ### URI,资源统一定位符
- uniform
- resourse
- indetifier
  ### URL是URI的子集

---
# 第二章
### HTTP一端是客户端，另一端是服务端
### 先从客户端发起请求，建立请求链接，服务端做出响应
### 客户端发起的请求格式
- 方法(post) URI(main/action1) 协议版本(http/1.1)
- 请求首部字段(content-Type:text)
- 内容实体(name=tom&age=12)
  ### 服务端响应格式
- 协议版本(http/1.1) 处理结果状态码(200) 原因短语(ok)
- 日期
- 返回首部
- 内容实体
  ### HTTP协议不保存状态，每次都是生成新的响应，不会保留上次的请求，可以更快速处理请求
  ### 通过cookie可以持久数据
  ### 每进行一次HTTP通信，就会断开一次TCP连接
  ### 为了增加TCP连接时间，就制定了了http keep-alive方法，任何一方不明确断开就保持连接
  ### 服务端可以在响应的时候通过set-cookie首部字段信息告诉客户端保存这些数据
  ### 客户端再传过来信息时候，就可以区分从那个地方来的

---
# 第三章
### HTTP可以对内容实体进行内容编码（g-zip,compress,indetify）
### Content-Type 标记传输的类型

---
# 第四章
### HTTP状态码告诉服务器返回的请求结果
- 1xx information （信息性状态码）     接受的请求正在处理中
- 2xx success     （成功状态码）     请求正常处理完毕
- 3xx redirection （重定向状态码）     需要进行附加操作以完成请求
- 4xx Client error（客户端错误状态码）  服务器无法处理请求
- 5xx server error (服务器端错误状态码) 服务器处理请求出错

---
# 第五章
### 同一个域名下可以配置多个虚拟机，host必须指定正确的URI
### 同一个虚拟机也可以有多个域名指向
### 代理：接受客户端发的请求并转发给服务器，接受服务器的响应并发给客户端
### 隧道：客户端和服务器端之间中转，并保持双方通信的连接程序，本身不处理http请求
### 多级代理需要加入via头部标识
### 缓存代理：将资源缓存到代理服务器，不请求源服务器，直接把数据返回给客户端
### 透明代理：转发请求或响应时，不加工任何报文处理
